---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

```{r}
plot(cars)
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.
#Load Packages
```{r}
suppressPackageStartupMessages(library(tidyverse))
suppressPackageStartupMessages(library(nycflights13))
```
#prelim
```{r}
flights
```


#Q1

```{r}
Q1<- flights %>% 
  group_by(carrier) %>% 
  filter(carrier == 'AA' | carrier == 'EV' | carrier == 'FL') %>% 
  summarise(AVG =round(mean(distance),2))

```
#Q2: month with highest # of flights, what is that value?
```{r}
Q2<- flights %>% 
  group_by(month) %>% 
  summarise(NumFlights=n()) %>% 
  arrange(desc(NumFlights)) %>% 
  head(1) %>% 
  as.data.frame()

```
#Q3: 5 shortest min distances by origin/dest combination
```{r}

```
```{r}
Q3<- flights %>% 
  mutate(min_dist =distance) %>% 
  arrange(min_dist) %>% 
  select(origin, dest, min_dist) %>% 
  distinct(origin, dest, min_dist) %>% 
  head(5) %>% 
  as.data.frame()
Q3
```
```{r}
Q3b<- flights %>% 
  group_by(origin, dest)  %>% 
  summarise(min_dist = min(distance, na.rm=TRUE)) %>%
  head(5) %>% 
  as.data.frame()

Q3b
```

#Q4 What five days of the year had the highest mean distance when leaving from JFK?  Sort in descending order.
```{r}
Q4<- flights %>% 
  filter(origin == 'JFK') %>% 
  group_by(month, day) %>% 
  summarise(mean_dist=round(mean(distance),2)) %>% 
  arrange(desc(mean_dist)) %>% 
  head(5) %>% 
  as.data.frame()

```

#Q5 Calculate the maximum arrival delay for flights to Boston and Atlanta, separately.
```{r}
Q5<- flights %>% 
  filter(dest =='ATL' | dest =='BOS') %>% 
  group_by(dest)  %>% 
  summarise(max_arr_delay = max(arr_delay, na.rm=TRUE)) %>% 
  as.data.frame()



```


